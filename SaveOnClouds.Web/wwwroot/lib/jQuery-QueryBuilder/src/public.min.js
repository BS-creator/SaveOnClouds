/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/jQuery-QueryBuilder@2.5.2/src/public.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
QueryBuilder.prototype.destroy=function(){this.trigger("beforeDestroy"),this.status.generated_id&&this.$el.removeAttr("id"),this.clear(),this.model=null,this.$el.off(".queryBuilder").removeClass("query-builder").removeData("queryBuilder"),delete this.$el[0].queryBuilder},QueryBuilder.prototype.reset=function(){this.trigger("beforeReset").isDefaultPrevented()||(this.status.group_id=1,this.status.rule_id=0,this.model.root.empty(),this.model.root.data=void 0,this.model.root.flags=$.extend({},this.settings.default_group_flags),this.model.root.condition=this.settings.default_condition,this.addRule(this.model.root),this.trigger("afterReset"),this.trigger("rulesChanged"))},QueryBuilder.prototype.clear=function(){this.trigger("beforeClear").isDefaultPrevented()||(this.status.group_id=0,this.status.rule_id=0,this.model.root&&(this.model.root.drop(),this.model.root=null),this.trigger("afterClear"),this.trigger("rulesChanged"))},QueryBuilder.prototype.setOptions=function(e){$.each(e,function(e,t){-1!==QueryBuilder.modifiable_options.indexOf(e)&&(this.settings[e]=t)}.bind(this))},QueryBuilder.prototype.getModel=function(e){return e?e instanceof Node?e:$(e).data("queryBuilderModel"):this.model.root},QueryBuilder.prototype.validate=function(e){e=$.extend({skip_empty:!1},e),this.clearErrors();var t=this,r=function r(i){var o=0,l=0;return i.each(function(r){if(r.filter||!e.skip_empty){if(!r.filter)return t.triggerValidationError(r,"no_filter",null),void l++;if(!r.operator)return t.triggerValidationError(r,"no_operator",null),void l++;if(0!==r.operator.nb_inputs){var i=t.validateValue(r,r.value);if(!0!==i)return t.triggerValidationError(r,i,r.value),void l++}o++}},function(e){var t=r(e);!0===t?o++:!1===t&&l++}),!(l>0)&&(0===o&&!i.isRoot()&&e.skip_empty?null:!!(0!==o||t.settings.allow_empty&&i.isRoot())||(t.triggerValidationError(i,"empty_group",null),!1))}(this.model.root);return this.change("validate",r)},QueryBuilder.prototype.getRules=function(e){e=$.extend({get_flags:!1,allow_invalid:!1,skip_empty:!1},e);var t=this.validate(e);if(!t&&!e.allow_invalid)return null;var r=this,i=function t(i){var o={condition:i.condition,rules:[]};if(i.data&&(o.data=$.extendext(!0,"replace",{},i.data)),e.get_flags){var l=r.getGroupFlags(i.flags,"all"===e.get_flags);$.isEmptyObject(l)||(o.flags=l)}return i.each(function(t){if(t.filter||!e.skip_empty){var i=null;t.operator&&0===t.operator.nb_inputs||(i=t.value);var l={id:t.filter?t.filter.id:null,field:t.filter?t.filter.field:null,type:t.filter?t.filter.type:null,input:t.filter?t.filter.input:null,operator:t.operator?t.operator.type:null,value:i};if((t.filter&&t.filter.data||t.data)&&(l.data=$.extendext(!0,"replace",{},t.filter.data,t.data)),e.get_flags){var a=r.getRuleFlags(t.flags,"all"===e.get_flags);$.isEmptyObject(a)||(l.flags=a)}o.rules.push(r.change("ruleToJson",l,t))}},function(r){var i=t(r);0===i.rules.length&&e.skip_empty||o.rules.push(i)},this),r.change("groupToJson",o,i)}(this.model.root);return i.valid=t,this.change("getRules",i)},QueryBuilder.prototype.setRules=function(e,t){t=$.extend({allow_invalid:!1},t),$.isArray(e)&&(e={condition:this.settings.default_condition,rules:e}),e&&e.rules&&(0!==e.rules.length||this.settings.allow_empty)||Utils.error("RulesParse","Incorrect data object passed"),this.clear(),this.setRoot(!1,e.data,this.parseGroupFlags(e)),e=this.change("setRules",e,t);var r=this;!function e(i,o){null!==o&&(void 0===i.condition?i.condition=r.settings.default_condition:-1==r.settings.conditions.indexOf(i.condition)&&(Utils.error(!t.allow_invalid,"UndefinedCondition",'Invalid condition "{0}"',i.condition),i.condition=r.settings.default_condition),o.condition=i.condition,i.rules.forEach(function(i){var l;if(void 0!==i.rules)if(-1!==r.settings.allow_groups&&r.settings.allow_groups<o.level)Utils.error(!t.allow_invalid,"RulesParse","No more than {0} groups are allowed",r.settings.allow_groups),r.reset();else{if(null===(l=r.addGroup(o,!1,i.data,r.parseGroupFlags(i))))return;e(i,l)}else{if(i.empty||(void 0===i.id&&(Utils.error(!t.allow_invalid,"RulesParse","Missing rule field id"),i.empty=!0),void 0===i.operator&&(i.operator="equal")),null===(l=r.addRule(o,i.data,r.parseRuleFlags(i))))return;i.empty||(l.filter=r.getFilterById(i.id,!t.allow_invalid)),l.filter&&(l.operator=r.getOperatorByType(i.operator,!t.allow_invalid),l.operator||(l.operator=r.getOperators(l.filter)[0])),l.operator&&0!==l.operator.nb_inputs&&(void 0!==i.value?l.value=i.value:void 0!==l.filter.default_value&&(l.value=l.filter.default_value)),r.change("jsonToRule",l,i)!=l&&Utils.error("RulesParse","Plugin tried to change rule reference")}}),r.change("jsonToGroup",o,i)!=o&&Utils.error("RulesParse","Plugin tried to change group reference"))}(e,this.model.root),this.trigger("afterSetRules")};
//# sourceMappingURL=/sm/363d989b8c6d6808231aee1ed53567772380a926d9d6541058a6cac63c7a08f6.map